<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab 02: Introduction to Web Application Reconnaissance</title>
    <style>
        :root {
            --primary-color: #2b5797;
            --secondary-color: #1a365d;
            --accent-color: #38a169;
            --warning-color: #d69e2e;
            --danger-color: #e53e3e;
            --info-color: #3182ce;
            --light-bg: #f7fafc;
            --dark-text: #2d3748;
            --border-color: #e2e8f0;
            --kali-blue: #367bf0;
            --kali-dark: #1f2937;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.7;
            color: var(--dark-text);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            overflow: hidden;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--kali-dark) 0%, #374151 100%);
            color: white;
            padding: 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90" opacity="0.05">üîç</text></svg>');
            background-size: 150px;
            opacity: 0.3;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            position: relative;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
            position: relative;
        }

        .header .chapter-ref {
            display: inline-block;
            margin-top: 15px;
            background: rgba(255,255,255,0.1);
            padding: 6px 18px;
            border-radius: 20px;
            font-size: 0.9em;
            position: relative;
            border: 1px solid rgba(255,255,255,0.2);
        }

        /* Lab Info Box */
        .lab-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            padding: 25px 40px;
            background: linear-gradient(135deg, var(--kali-blue) 0%, #5b8def 100%);
            color: white;
        }

        .lab-info-item {
            text-align: center;
            padding: 15px;
            background: rgba(255,255,255,0.15);
            border-radius: 10px;
        }

        .lab-info-item strong {
            display: block;
            font-size: 0.85em;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
            opacity: 0.9;
        }

        .lab-info-item span {
            font-size: 1.1em;
            font-weight: 600;
        }

        /* Content */
        .content { padding: 40px; }

        /* Table of Contents */
        .toc {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border-radius: 15px;
            padding: 25px 30px;
            margin-bottom: 40px;
            border-left: 5px solid var(--kali-blue);
        }

        .toc h2 {
            color: var(--secondary-color);
            margin-bottom: 15px;
            font-size: 1.3em;
            border: none;
        }

        .toc ol {
            columns: 2;
            column-gap: 30px;
            padding-left: 20px;
        }

        .toc li {
            margin-bottom: 8px;
            break-inside: avoid;
        }

        .toc a {
            color: var(--kali-blue);
            text-decoration: none;
        }

        .toc a:hover {
            color: var(--secondary-color);
            text-decoration: underline;
        }

        /* Sections */
        section { margin-bottom: 40px; }

        h2 {
            color: var(--secondary-color);
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid var(--kali-blue);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        h3 {
            color: var(--primary-color);
            font-size: 1.4em;
            margin: 25px 0 15px 0;
        }

        h4 {
            color: var(--dark-text);
            font-size: 1.15em;
            margin: 20px 0 10px 0;
        }

        p { margin-bottom: 15px; }

        ul, ol {
            margin-left: 25px;
            margin-bottom: 15px;
        }

        li { margin-bottom: 6px; }

        /* Alert Boxes */
        .alert {
            padding: 20px 25px;
            border-radius: 12px;
            margin: 20px 0;
            display: flex;
            gap: 15px;
            align-items: flex-start;
        }

        .alert-icon { font-size: 1.5em; flex-shrink: 0; }

        .alert-info {
            background: linear-gradient(135deg, #ebf8ff 0%, #bee3f8 100%);
            border-left: 5px solid var(--info-color);
        }

        .alert-warning {
            background: linear-gradient(135deg, #fffff0 0%, #fefcbf 100%);
            border-left: 5px solid var(--warning-color);
        }

        .alert-danger {
            background: linear-gradient(135deg, #fff5f5 0%, #fed7d7 100%);
            border-left: 5px solid var(--danger-color);
        }

        .alert-success {
            background: linear-gradient(135deg, #f0fff4 0%, #c6f6d5 100%);
            border-left: 5px solid var(--accent-color);
        }

        .alert h4 { margin: 0 0 8px 0; color: inherit; }
        .alert p { margin: 0; }
        .alert ul { margin-top: 8px; margin-bottom: 0; }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        th {
            background: linear-gradient(135deg, var(--kali-dark) 0%, #374151 100%);
            color: white;
            padding: 15px 20px;
            text-align: left;
            font-weight: 600;
        }

        td {
            padding: 12px 20px;
            border-bottom: 1px solid var(--border-color);
        }

        tr:nth-child(even) { background-color: #f8fafc; }
        tr:hover { background-color: #edf2f7; }

        /* Code blocks */
        code {
            background: #1a202c;
            color: #68d391;
            padding: 3px 8px;
            border-radius: 5px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
        }

        pre {
            background: linear-gradient(135deg, #1a202c 0%, #2d3748 100%);
            color: #e2e8f0;
            padding: 20px;
            border-radius: 12px;
            overflow-x: auto;
            margin: 15px 0;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.3);
        }

        pre code { background: none; color: #68d391; padding: 0; }

        .command-label {
            display: block;
            color: #a0aec0;
            font-size: 0.85em;
            margin-bottom: 8px;
            font-style: italic;
        }

        /* Steps */
        .steps {
            counter-reset: step-counter;
            list-style: none;
            padding: 0;
        }

        .steps li {
            counter-increment: step-counter;
            margin-bottom: 15px;
            padding-left: 50px;
            position: relative;
            min-height: 40px;
        }

        .steps li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0; top: 0;
            width: 35px; height: 35px;
            background: linear-gradient(135deg, var(--kali-blue) 0%, #5b8def 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(54, 123, 240, 0.3);
        }

        /* Checklist */
        .checklist { list-style: none; padding: 0; }

        .checklist li {
            padding: 10px 0 10px 35px;
            position: relative;
            border-bottom: 1px dashed var(--border-color);
        }

        .checklist li::before {
            content: '‚òê';
            position: absolute;
            left: 0;
            font-size: 1.2em;
            color: var(--kali-blue);
        }

        /* Cards */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border: 1px solid var(--border-color);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .card h4 { color: var(--kali-blue); margin-top: 0; }

        /* Expected Output */
        .expected-output {
            background: #f7fafc;
            border: 2px dashed var(--kali-blue);
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
        }

        .expected-output h4 {
            color: var(--kali-blue);
            margin-top: 0;
            margin-bottom: 10px;
        }

        /* Deliverable Box */
        .deliverable {
            background: linear-gradient(135deg, #faf5ff 0%, #e9d8fd 100%);
            border-left: 5px solid #805ad5;
            border-radius: 0 12px 12px 0;
            padding: 20px 25px;
            margin: 20px 0;
        }

        .deliverable h4 { color: #553c9a; margin-top: 0; }

        /* Fill-in fields */
        .fill-in {
            background: #fafbfc;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }

        .fill-in label {
            font-weight: 600;
            display: block;
            margin-bottom: 6px;
            color: var(--secondary-color);
            font-size: 0.95em;
        }

        .fill-in input[type="text"],
        .fill-in textarea {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 0.95em;
            font-family: inherit;
            margin-bottom: 12px;
            resize: vertical;
        }

        /* Troubleshooting */
        .troubleshoot-item {
            background: white;
            border-radius: 12px;
            margin-bottom: 20px;
            border: 1px solid var(--border-color);
            overflow: hidden;
        }

        .troubleshoot-header {
            background: linear-gradient(135deg, #fff5f5 0%, #fed7d7 100%);
            padding: 15px 20px;
            font-weight: 600;
            color: var(--danger-color);
        }

        .troubleshoot-solution {
            padding: 20px;
            background: linear-gradient(135deg, #f0fff4 0%, #c6f6d5 100%);
        }

        /* Footer */
        .footer {
            background: linear-gradient(135deg, var(--kali-dark) 0%, #374151 100%);
            color: white;
            padding: 30px 40px;
            text-align: center;
        }

        .footer p { margin: 5px 0; opacity: 0.9; }

        /* Responsive */
        @media (max-width: 768px) {
            body { padding: 10px; }
            .header { padding: 30px 20px; }
            .header h1 { font-size: 1.8em; }
            .content { padding: 25px; }
            .toc ol { columns: 1; }
        }

        /* Language Switch Button */
        .lang-switch {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .lang-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4);
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .lang-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.5);
            color: white;
            text-decoration: none;
        }

        .lang-btn:active {
            transform: translateY(-1px);
        }

        @media print {
            body { background: white; padding: 0; }
            .container { box-shadow: none; }
            .lang-switch { display: none; }
        }
    </style>
</head>
<body>

<!-- Language Switch Button -->
<div class="lang-switch">
    <a href="lab02-arabic.html" class="lang-btn">
        ÿßŸÑÿπÿ±ÿ®Ÿäÿ© (Arabic)
    </a>
</div>

<div class="container">
    <!-- Header -->
    <header class="header">
        <h1>Lab 02: Introduction to Web Application Reconnaissance</h1>
        <p class="subtitle">CYB236 - Web Application Security</p>
        <div class="chapter-ref">Covers: Chapter 2 (Reconnaissance) &amp; Chapter 3 (Modern Web Architecture)</div>
    </header>

    <!-- Lab Info -->
    <div class="lab-info">
        <div class="lab-info-item">
            <strong>Lab Number</strong>
            <span>02</span>
        </div>
        <div class="lab-info-item">
            <strong>Difficulty</strong>
            <span>Beginner</span>
        </div>
        <div class="lab-info-item">
            <strong>Duration</strong>
            <span>45-50 min</span>
        </div>
        <div class="lab-info-item">
            <strong>Prerequisites</strong>
            <span>Lab 01 (Kali VM)</span>
        </div>
    </div>

    <!-- Content -->
    <div class="content">

        <!-- Table of Contents -->
        <nav class="toc">
            <h2>Table of Contents</h2>
            <ol>
                <li><a href="#introduction">Introduction</a></li>
                <li><a href="#objectives">Learning Objectives</a></li>
                <li><a href="#setup">Part 1: Setting Up Juice Shop</a></li>
                <li><a href="#task1">Task 1: Identify the Technology Stack</a></li>
                <li><a href="#task2">Task 2: Explore REST APIs in the Browser</a></li>
                <li><a href="#task3">Task 3: Read JSON Data</a></li>
                <li><a href="#task4">Task 4: Inspect Client-Side Storage</a></li>
                <li><a href="#troubleshooting">Troubleshooting</a></li>
                <li><a href="#report">Generate Your Report</a></li>
            </ol>
        </nav>

        <!-- Introduction -->
        <section id="introduction">
            <h2>Introduction</h2>

            <p>In this lab you will take your first steps into <strong>web application reconnaissance</strong> &mdash; the information-gathering phase that happens <em>before</em> any security testing. You will explore a target web application using only your <strong>web browser</strong> and its built-in <strong>Developer Tools</strong>.</p>

            <p>The target application is <strong>OWASP Juice Shop</strong>, a deliberately vulnerable online juice store built with modern technologies you studied in Chapter 3.</p>

            <div class="alert alert-info">
                <span class="alert-icon">üí°</span>
                <div>
                    <h4>What is OWASP Juice Shop?</h4>
                    <p>Juice Shop is a modern web application intentionally built for security education. It uses:</p>
                    <ul>
                        <li><strong>Angular</strong> &mdash; a Single-Page Application (SPA) framework</li>
                        <li><strong>Node.js / Express</strong> &mdash; a JavaScript web server</li>
                        <li><strong>REST API</strong> with <strong>JSON</strong> data format</li>
                        <li><strong>SQLite</strong> database</li>
                    </ul>
                </div>
            </div>

            <div class="alert alert-danger">
                <span class="alert-icon">&#9888;&#65039;</span>
                <div>
                    <h4>Important Legal Reminder</h4>
                    <p>Reconnaissance should <strong>ONLY</strong> be performed against applications you own or have written permission to test. In this lab, Juice Shop runs <strong>locally on your own machine</strong>, so you are fully authorized.</p>
                </div>
            </div>
        </section>

        <!-- Learning Objectives -->
        <section id="objectives">
            <h2>Learning Objectives</h2>
            <p>By the end of this lab, you will be able to:</p>
            <ul class="checklist">
                <li>Set up and run OWASP Juice Shop using Docker on Kali Linux</li>
                <li>Identify the technology stack of a web application using browser tools</li>
                <li>Use browser Developer Tools to observe REST API requests</li>
                <li>Read and understand JSON data sent between client and server</li>
                <li>Inspect client-side storage (cookies, localStorage, sessionStorage)</li>
            </ul>

            <h3>Tools Used in This Lab</h3>
            <table>
                <tr>
                    <th>Tool</th>
                    <th>What We Use It For</th>
                </tr>
                <tr>
                    <td><code>Docker</code></td>
                    <td>Run the Juice Shop application locally</td>
                </tr>
                <tr>
                    <td><code>Firefox</code> + Developer Tools (F12)</td>
                    <td>Inspect network requests, JSON data, and storage</td>
                </tr>
            </table>
        </section>

        <!-- Part 1: Setup -->
        <section id="setup">
            <h2>Part 1: Setting Up OWASP Juice Shop</h2>

            <p>We will run Juice Shop using <strong>Docker</strong> inside your Kali VM.</p>

            <h3>Step 1: Install Docker</h3>
            <p>Open a terminal in your Kali VM and run these commands one by one:</p>

<pre><code><span class="command-label"># Update packages and install Docker</span>
sudo apt update
sudo apt install -y docker.io

<span class="command-label"># Start Docker</span>
sudo systemctl start docker
sudo systemctl enable docker</code></pre>

            <h3>Step 2: Download and Run Juice Shop</h3>

<pre><code><span class="command-label"># Download Juice Shop (this may take a few minutes)</span>
sudo docker pull bkimminich/juice-shop

<span class="command-label"># Start Juice Shop on port 3000</span>
sudo docker run -d -p 3000:3000 --name juice-shop bkimminich/juice-shop</code></pre>

            <h3>Step 3: Open It in Firefox</h3>

            <ol class="steps">
                <li>Open <strong>Firefox</strong> in your Kali VM</li>
                <li>Go to <code>http://localhost:3000</code></li>
                <li>You should see the Juice Shop homepage &mdash; an online store selling fruit juices. Dismiss the <strong>welcome banner</strong> and <strong>cookie consent</strong> banner.</li>
            </ol>

            <div class="alert alert-success">
                <span class="alert-icon">&#9989;</span>
                <div>
                    <h4>Checkpoint</h4>
                    <p>If you can see the Juice Shop homepage with product images (like Apple Juice, Banana Juice, etc.), you are ready to continue!</p>
                </div>
            </div>
        </section>

        <!-- Task 1: Technology Stack -->
        <section id="task1">
            <h2>Task 1: Identify the Technology Stack</h2>

            <p>Your first job is to figure out <strong>what technologies</strong> this application is built with.</p>

            <h3>1A: Check Response Headers in Firefox</h3>

            <ol class="steps">
                <li>In Firefox, make sure you are on <code>http://localhost:3000</code></li>
                <li>Press <strong>F12</strong> to open Developer Tools. Click on the <strong>Network</strong> tab.</li>
                <li>Press <strong>Ctrl + R</strong> to reload the page. Click on the <strong>first request</strong> in the list.</li>
                <li>In the details panel, click <strong>Headers</strong> and scroll to the <strong>Response Headers</strong> section.</li>
            </ol>

            <div class="alert alert-info">
                <span class="alert-icon">üí°</span>
                <div>
                    <h4>Key Headers to Look For</h4>
                    <ul>
                        <li><code>X-Content-Type-Options</code> &mdash; you should see <strong>nosniff</strong></li>
                        <li><code>X-Frame-Options</code> &mdash; you should see <strong>SAMEORIGIN</strong></li>
                        <li><code>Access-Control-Allow-Origin</code> &mdash; you should see <strong>*</strong> (allows any website to make requests &mdash; a security concern!)</li>
                    </ul>
                </div>
            </div>

            <h3>1B: Check the Page Source for the Client Framework</h3>

            <ol class="steps">
                <li>Right-click on the page and select <strong>View Page Source</strong> (or press <strong>Ctrl + U</strong>)</li>
                <li>Scroll to the bottom and look at the <code>&lt;script&gt;</code> tags: <code>runtime.js</code>, <code>polyfills.js</code>, <code>vendor.js</code>, <code>main.js</code></li>
                <li>Also look for the <code>&lt;app-root&gt;</code> tag in the <code>&lt;body&gt;</code> section</li>
            </ol>

            <div class="alert alert-info">
                <span class="alert-icon">üí°</span>
                <div>
                    <h4>Hint</h4>
                    <p>The files <code>runtime.js</code>, <code>polyfills.js</code>, <code>vendor.js</code>, <code>main.js</code> and the <code>&lt;app-root&gt;</code> tag are the signature of <strong>Angular</strong> (an SPA framework from Chapter 3).</p>
                </div>
            </div>

            <!-- Task 1 Fill-in -->
            <div class="deliverable">
                <h4>Task 1 &mdash; Fill In Your Answers:</h4>
            </div>
            <div class="fill-in">
                <label>Web Server software:</label>
                <input type="text" class="task-answer" data-task="1" placeholder="">
                <label>Client-side framework:</label>
                <input type="text" class="task-answer" data-task="1" placeholder="">
                <label>Name one security-related response header you found and what it does:</label>
                <input type="text" class="task-answer" data-task="1" placeholder="">
            </div>
        </section>

        <!-- Task 2: REST APIs in Browser -->
        <section id="task2">
            <h2>Task 2: Explore REST API Requests in the Browser</h2>

            <p>Modern web applications communicate through <strong>REST APIs</strong>. Let's watch this happen in real time.</p>

            <h3>2A: Open the Network Tab</h3>

            <ol class="steps">
                <li>Press <strong>F12</strong> to open Developer Tools, click the <strong>Network</strong> tab</li>
                <li>Click the <strong>XHR</strong> filter button to show only API calls</li>
                <li>Press <strong>Ctrl + R</strong> to reload the page</li>
            </ol>

            <h3>2B: Observe the API Calls</h3>

            <p>Without clicking anything, just by loading the homepage, you should see several API requests. Here are a few key ones:</p>

            <table>
                <tr>
                    <th>HTTP Method</th>
                    <th>URL Path</th>
                    <th>What It Does</th>
                </tr>
                <tr>
                    <td>GET</td>
                    <td><code>/rest/admin/application-version</code></td>
                    <td>Gets the Juice Shop version</td>
                </tr>
                <tr>
                    <td>GET</td>
                    <td><code>/rest/products/search?q=</code></td>
                    <td>Searches all products</td>
                </tr>
                <tr>
                    <td>GET</td>
                    <td><code>/rest/user/whoami</code></td>
                    <td>Checks if a user is logged in</td>
                </tr>
            </table>

            <h3>2C: Click on a Product</h3>

            <p>Click on any product card on the homepage. Watch the Network tab &mdash; you should see new requests to <code>/rest/products/{id}/reviews</code>. Notice that the reviews contain <strong>email addresses</strong> (like <code>admin@juice-sh.op</code>) &mdash; this is <strong>sensitive data exposure</strong>.</p>

            <!-- Task 2 Fill-in -->
            <div class="deliverable">
                <h4>Task 2 &mdash; Fill In Your Answers:</h4>
            </div>
            <div class="fill-in">
                <label>How many API requests did you see when the homepage loaded?</label>
                <input type="text" class="task-answer" data-task="2" placeholder="">
                <label>Name one additional API endpoint you saw when clicking a product:</label>
                <input type="text" class="task-answer" data-task="2" placeholder="">
                <label>What sensitive data did you find exposed in the reviews?</label>
                <input type="text" class="task-answer" data-task="2" placeholder="">
            </div>
        </section>

        <!-- Task 3: JSON Data -->
        <section id="task3">
            <h2>Task 3: Read JSON Data</h2>

            <p>REST APIs use <strong>JSON</strong> (JavaScript Object Notation) to exchange data between the client and the server. JSON is a lightweight text format that organizes data using key-value pairs. Let's examine the JSON that Juice Shop sends back.</p>

            <h3>3A: View the Application Version JSON</h3>

            <ol class="steps">
                <li>In the <strong>Network</strong> tab (with <strong>XHR</strong> filter), find the <code>application-version</code> request and click on it</li>
                <li>Click the <strong>Response</strong> sub-tab to see the JSON data:</li>
            </ol>

            <div class="expected-output">
                <h4>Expected JSON Response:</h4>
<pre><code>{"version":"19.1.1"}</code></pre>
            </div>

            <h3>3B: View the Product Search JSON</h3>

            <ol class="steps">
                <li>Click the <code>/rest/products/search?q=</code> request, then click <strong>Response</strong></li>
                <li>You will see a JSON response containing all products. Each product looks like this:</li>
            </ol>

            <div class="expected-output">
                <h4>Example Product Object:</h4>
<pre><code>{
  "id": 1,
  "name": "Apple Juice (1000ml)",
  "price": 1.99,
  "image": "apple_juice.jpg"
}</code></pre>
            </div>

            <!-- Task 3 Fill-in -->
            <div class="deliverable">
                <h4>Task 3 &mdash; Fill In Your Answers:</h4>
            </div>
            <div class="fill-in">
                <label>What version of Juice Shop is running?</label>
                <input type="text" class="task-answer" data-task="3" placeholder="">
                <label>How many products are returned by the search API?</label>
                <input type="text" class="task-answer" data-task="3" placeholder="">
                <label>Name one security concern about these API endpoints:</label>
                <input type="text" class="task-answer" data-task="3" placeholder="">
            </div>
        </section>

        <!-- Task 4: Client-Side Storage -->
        <section id="task4">
            <h2>Task 4: Inspect Client-Side Storage</h2>

            <p>Browsers can store data locally using cookies, localStorage, and sessionStorage. Let's see what Juice Shop stores on your browser.</p>

            <h3>4A: Open the Storage Inspector</h3>

            <ol class="steps">
                <li>Press <strong>F12</strong> to open Developer Tools</li>
                <li>Click the <strong>Storage</strong> tab (if hidden, click the <strong>&raquo;</strong> icon at the end of the tab bar)</li>
                <li>Expand <strong>Cookies</strong> &rarr; <code>http://localhost:3000</code> to see all cookies</li>
                <li>Also check <strong>Local Storage</strong> and <strong>Session Storage</strong></li>
            </ol>

            <div class="alert alert-info">
                <span class="alert-icon">üí°</span>
                <div>
                    <h4>What You Should See</h4>
                    <p>Under Cookies, you should see 3 entries: <code>language</code>, <code>welcomebanner_status</code>, and <code>cookieconsent_status</code>. Check the <strong>HttpOnly</strong> and <strong>Secure</strong> flag columns.</p>
                </div>
            </div>

            <!-- Task 4 Fill-in -->
            <div class="deliverable">
                <h4>Task 4 &mdash; Fill In Your Answers:</h4>
            </div>
            <div class="fill-in">
                <label>Value of the <code>language</code> cookie:</label>
                <input type="text" class="task-answer" data-task="4" placeholder="">
                <label>Are the HttpOnly and Secure flags set on any cookies? (Yes / No)</label>
                <input type="text" class="task-answer" data-task="4" placeholder="">
                <label>Why is it a security risk that cookies don't have the Secure flag?</label>
                <input type="text" class="task-answer" data-task="4" placeholder="">
            </div>
        </section>

        <!-- Troubleshooting -->
        <section id="troubleshooting">
            <h2>Troubleshooting</h2>

            <div class="troubleshoot-item">
                <div class="troubleshoot-header">&#10060; Docker command not found</div>
                <div class="troubleshoot-solution">
                    <p><strong>Solution:</strong> Run <code>sudo apt update && sudo apt install -y docker.io</code> then <code>sudo systemctl start docker</code>.</p>
                </div>
            </div>

            <div class="troubleshoot-item">
                <div class="troubleshoot-header">&#10060; "Cannot connect to the Docker daemon"</div>
                <div class="troubleshoot-solution">
                    <p><strong>Solution:</strong> Run <code>sudo systemctl start docker</code>.</p>
                </div>
            </div>

            <div class="troubleshoot-item">
                <div class="troubleshoot-header">&#10060; Juice Shop page doesn't load</div>
                <div class="troubleshoot-solution">
                    <p><strong>Solution:</strong> Check if the container is running: <code>sudo docker ps</code>. If not listed, start it: <code>sudo docker start juice-shop</code>.</p>
                </div>
            </div>

            <div class="troubleshoot-item">
                <div class="troubleshoot-header">&#10060; Port 3000 is already in use</div>
                <div class="troubleshoot-solution">
                    <p><strong>Solution:</strong> Run <code>sudo docker stop juice-shop && sudo docker rm juice-shop</code>, then re-run the docker run command from Part 1.</p>
                </div>
            </div>
        </section>

        <!-- Generate Report -->
        <section id="report">
            <h2>Generate Your Report</h2>

            <p>Enter your information below and click <strong>Generate PDF Report</strong>. This will collect all your answers from Tasks 1&ndash;4 into a printable report.</p>

            <div id="report-section" style="border: 2px solid var(--kali-blue); border-radius: 15px; padding: 30px; margin: 20px 0; background: #fafbfc;">
                <div style="text-align: center; margin-bottom: 25px; padding-bottom: 15px; border-bottom: 2px solid var(--kali-blue);">
                    <h3 style="color: var(--secondary-color); margin: 0;">CYB236 &mdash; Lab 02: Recon Summary Report</h3>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 25px;">
                    <div>
                        <label style="font-weight: 600; display: block; margin-bottom: 5px; color: var(--secondary-color);">Student Name:</label>
                        <input type="text" id="student-name" placeholder="Enter your full name" style="width: 100%; padding: 10px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 1em;">
                    </div>
                    <div>
                        <label style="font-weight: 600; display: block; margin-bottom: 5px; color: var(--secondary-color);">Student ID:</label>
                        <input type="text" id="student-id" placeholder="Enter your student ID" style="width: 100%; padding: 10px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 1em;">
                    </div>
                </div>

                <!-- Report preview area -->
                <div id="report-preview" style="display: none; background: white; border: 1px solid var(--border-color); border-radius: 10px; padding: 25px; margin-bottom: 20px;">
                </div>

                <div style="text-align: center; margin-top: 20px;">
                    <button onclick="generateReport()" style="background: linear-gradient(135deg, var(--kali-blue) 0%, #5b8def 100%); color: white; border: none; padding: 15px 40px; font-size: 1.1em; font-weight: 600; border-radius: 10px; cursor: pointer; box-shadow: 0 4px 15px rgba(54, 123, 240, 0.4); transition: transform 0.2s ease;">Generate PDF Report</button>
                </div>
            </div>
        </section>


    </div><!-- end content -->

    <!-- Footer -->
    <div class="footer">
        <p><strong>CYB236</strong> &mdash; Web Application Security</p>
        <p>Lab 02: Introduction to Web Application Reconnaissance</p>
    </div>

</div><!-- end container -->

<script>
function generateReport() {
    var name = document.getElementById('student-name').value.trim();
    var sid = document.getElementById('student-id').value.trim();
    if (!name || !sid) {
        alert('Please enter your Student Name and Student ID before generating the report.');
        return;
    }

    // Collect all task answers
    var answers = {};
    var allInputs = document.querySelectorAll('.task-answer');
    allInputs.forEach(function(input) {
        var task = input.getAttribute('data-task');
        if (!answers[task]) answers[task] = [];
        answers[task].push({
            label: input.previousElementSibling ? input.previousElementSibling.textContent : '',
            value: input.value.trim() || '(not answered)'
        });
    });

    // Build print content
    var printWindow = window.open('', '_blank');
    var html = '<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Lab 02 Report - ' + name + '</title>';
    html += '<style>';
    html += 'body { font-family: "Segoe UI", Tahoma, sans-serif; padding: 40px; color: #2d3748; line-height: 1.6; }';
    html += 'h1 { color: #1a365d; font-size: 1.6em; text-align: center; margin-bottom: 5px; }';
    html += '.subtitle { text-align: center; color: #718096; margin-bottom: 25px; }';
    html += '.student-info { display: flex; justify-content: space-between; background: #f7fafc; padding: 15px 20px; border-radius: 8px; margin-bottom: 25px; border: 1px solid #e2e8f0; }';
    html += '.task-section { margin-bottom: 25px; page-break-inside: avoid; }';
    html += '.task-title { color: #2b5797; font-size: 1.2em; border-bottom: 2px solid #367bf0; padding-bottom: 5px; margin-bottom: 12px; }';
    html += '.answer-row { margin-bottom: 10px; }';
    html += '.answer-label { font-weight: 600; color: #4a5568; font-size: 0.9em; }';
    html += '.answer-value { background: #f7fafc; padding: 8px 12px; border-radius: 6px; border: 1px solid #e2e8f0; margin-top: 3px; min-height: 20px; }';
    html += '@media print { body { padding: 20px; } }';
    html += '</style></head><body>';
    html += '<h1>CYB236 &mdash; Lab 02: Recon Summary Report</h1>';
    html += '<p class="subtitle">Web Application Reconnaissance &mdash; OWASP Juice Shop</p>';
    html += '<div class="student-info"><div><strong>Student Name:</strong> ' + name + '</div><div><strong>Student ID:</strong> ' + sid + '</div></div>';

    var taskNames = {
        '1': 'Task 1: Identify the Technology Stack',
        '2': 'Task 2: Explore REST API Requests',
        '3': 'Task 3: Read JSON Data',
        '4': 'Task 4: Inspect Client-Side Storage'
    };

    for (var t = 1; t <= 4; t++) {
        html += '<div class="task-section">';
        html += '<div class="task-title">' + taskNames[t] + '</div>';
        if (answers[t]) {
            answers[t].forEach(function(a) {
                html += '<div class="answer-row">';
                html += '<div class="answer-label">' + a.label + '</div>';
                html += '<div class="answer-value">' + a.value + '</div>';
                html += '</div>';
            });
        }
        html += '</div>';
    }

    html += '</body></html>';
    printWindow.document.write(html);
    printWindow.document.close();
    printWindow.onload = function() {
        printWindow.print();
    };
}
</script>

</body>
</html>
