<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pharmacy DFS Traversal Question - CPCS204</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 950px;
            margin: 40px auto;
            padding: 20px;
            background-color: #f5f5f5;
            line-height: 1.6;
        }

        .container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: #333;
            text-decoration: none;
            font-weight: bold;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        h1 {
            color: #000;
            border-bottom: 3px solid #000;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        h2 {
            color: #000;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        .scenario {
            background-color: #f9f9f9;
            border-left: 4px solid #000;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }

        .scenario h3 {
            color: #000;
            margin-top: 0;
        }

        .rules {
            background-color: #f0f0f0;
            border: 2px solid #000;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .rules h3 {
            color: #000;
            margin-top: 0;
        }

        .rules ul {
            margin: 10px 0;
        }

        .rules li {
            margin: 8px 0;
        }

        .graph-container {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            border: 2px solid #000;
        }

        .question-box {
            background-color: #fff;
            border: 3px solid #000;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .question-box h3 {
            color: #000;
            margin-top: 0;
        }

        .answer-space {
            border: 2px dashed #000;
            padding: 20px;
            margin-top: 15px;
            min-height: 50px;
            background-color: white;
            border-radius: 5px;
        }

        .solution {
            background-color: #f5f5f5;
            border: 2px solid #000;
            padding: 20px;
            margin-top: 40px;
        }

        .solution h2 {
            color: #000;
            margin-top: 0;
        }

        .solution-item {
            background-color: white;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            border: 1px solid #000;
        }

        .solution-item h3 {
            color: #000;
            margin-top: 0;
        }

        .step {
            background-color: #f8f8f8;
            padding: 10px 15px;
            margin: 10px 0;
            border-radius: 5px;
            border-left: 3px solid #000;
        }

        .step-number {
            font-weight: bold;
            color: #000;
        }

        .final-answer {
            font-family: 'Courier New', monospace;
            font-size: 18px;
            font-weight: bold;
            color: #000;
            background-color: #f0f0f0;
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
            text-align: center;
            border: 2px solid #000;
        }

        code {
            background-color: #e8e8e8;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-weight: bold;
        }

        .solution-hidden {
            display: none;
        }

        .show-solution-btn {
            background-color: #000;
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 15px;
            transition: background-color 0.3s;
        }

        .show-solution-btn:hover {
            background-color: #333;
        }

        table.adjacency {
            border-collapse: collapse;
            margin: 20px auto;
            font-size: 14px;
        }

        table.adjacency th, table.adjacency td {
            border: 2px solid #000;
            padding: 10px 15px;
            text-align: center;
        }

        table.adjacency th {
            background-color: #000;
            color: white;
        }

        table.adjacency td:first-child {
            background-color: #e0e0e0;
            font-weight: bold;
        }

        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #000;
            color: #000;
        }

        .footer strong {
            color: #000;
        }

        @media print {
            body {
                background-color: white;
                margin: 0;
                padding: 10px;
            }
            .container {
                box-shadow: none;
            }
            .solution {
                page-break-before: always;
                display: block !important;
            }
            .show-solution-btn {
                display: none;
            }
            .back-link {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">← Back to CPCS 204 Home</a>

        <h1>Pharmacy Network - DFS Traversal</h1>

        <div class="scenario">
            <p>A city has <strong>10 pharmacies</strong> (A, B, C, D, E, F, G, H, I, J) connected by roads. Each road has a <strong>congestion level</strong> (weight).</p>
        </div>

        <div class="rules">
            <h3>Rule</h3>
            <p>Visit the pharmacy connected by the road with the <strong>HIGHEST congestion level first</strong>.</p>
        </div>

        <h2>Graph</h2>

        <div class="graph-container">
            <svg width="700" height="480" xmlns="http://www.w3.org/2000/svg">
                <!-- Edges with weights -->
                <!-- New graph design with more dead-ends and backtracking required -->

                <!-- A-B (weight 18) -->
                <line x1="120" y1="80" x2="250" y2="80" stroke="#000" stroke-width="2"/>
                <rect x="171" y="60" width="28" height="20" fill="#fff" stroke="#000" stroke-width="1"/>
                <text x="185" y="75" text-anchor="middle" fill="#000" font-size="12" font-weight="bold">18</text>

                <!-- A-C (weight 15) -->
                <line x1="100" y1="105" x2="100" y2="180" stroke="#000" stroke-width="2"/>
                <rect x="86" y="130" width="28" height="20" fill="#fff" stroke="#000" stroke-width="1"/>
                <text x="100" y="145" text-anchor="middle" fill="#000" font-size="12" font-weight="bold">15</text>

                <!-- A-D (weight 10) -->
                <line x1="115" y1="100" x2="200" y2="180" stroke="#000" stroke-width="2"/>
                <rect x="143" y="125" width="28" height="20" fill="#fff" stroke="#000" stroke-width="1"/>
                <text x="157" y="140" text-anchor="middle" fill="#000" font-size="12" font-weight="bold">10</text>

                <!-- B-E (weight 12) - B leads to dead-end branch -->
                <line x1="290" y1="80" x2="400" y2="80" stroke="#000" stroke-width="2"/>
                <rect x="331" y="60" width="28" height="20" fill="#fff" stroke="#000" stroke-width="1"/>
                <text x="345" y="75" text-anchor="middle" fill="#000" font-size="12" font-weight="bold">12</text>

                <!-- E-F (weight 14) - Dead end branch -->
                <line x1="440" y1="80" x2="540" y2="80" stroke="#000" stroke-width="2"/>
                <rect x="476" y="60" width="28" height="20" fill="#fff" stroke="#000" stroke-width="1"/>
                <text x="490" y="75" text-anchor="middle" fill="#000" font-size="12" font-weight="bold">14</text>

                <!-- C-G (weight 16) -->
                <line x1="100" y1="230" x2="100" y2="320" stroke="#000" stroke-width="2"/>
                <rect x="86" y="265" width="28" height="20" fill="#fff" stroke="#000" stroke-width="1"/>
                <text x="100" y="280" text-anchor="middle" fill="#000" font-size="12" font-weight="bold">16</text>

                <!-- C-D (weight 5) -->
                <line x1="125" y1="205" x2="195" y2="205" stroke="#000" stroke-width="2"/>
                <rect x="146" y="190" width="28" height="20" fill="#fff" stroke="#000" stroke-width="1"/>
                <text x="160" y="205" text-anchor="middle" fill="#000" font-size="12" font-weight="bold">5</text>

                <!-- D-H (weight 17) -->
                <line x1="220" y1="230" x2="220" y2="320" stroke="#000" stroke-width="2"/>
                <rect x="206" y="265" width="28" height="20" fill="#fff" stroke="#000" stroke-width="1"/>
                <text x="220" y="280" text-anchor="middle" fill="#000" font-size="12" font-weight="bold">17</text>

                <!-- G-H (weight 8) -->
                <line x1="125" y1="345" x2="195" y2="345" stroke="#000" stroke-width="2"/>
                <rect x="146" y="330" width="28" height="20" fill="#fff" stroke="#000" stroke-width="1"/>
                <text x="160" y="345" text-anchor="middle" fill="#000" font-size="12" font-weight="bold">8</text>

                <!-- H-I (weight 19) -->
                <line x1="245" y1="345" x2="340" y2="345" stroke="#000" stroke-width="2"/>
                <rect x="279" y="330" width="28" height="20" fill="#fff" stroke="#000" stroke-width="1"/>
                <text x="293" y="345" text-anchor="middle" fill="#000" font-size="12" font-weight="bold">19</text>

                <!-- H-J (weight 11) -->
                <line x1="235" y1="365" x2="300" y2="430" stroke="#000" stroke-width="2"/>
                <rect x="253" y="385" width="28" height="20" fill="#fff" stroke="#000" stroke-width="1"/>
                <text x="267" y="400" text-anchor="middle" fill="#000" font-size="12" font-weight="bold">11</text>

                <!-- I-J (weight 6) -->
                <line x1="350" y1="365" x2="330" y2="425" stroke="#000" stroke-width="2"/>
                <rect x="326" y="385" width="28" height="20" fill="#fff" stroke="#000" stroke-width="1"/>
                <text x="340" y="400" text-anchor="middle" fill="#000" font-size="12" font-weight="bold">6</text>

                <!-- Pharmacy Nodes -->
                <!-- A -->
                <circle cx="100" cy="80" r="25" fill="#fff" stroke="#000" stroke-width="3"/>
                <text x="100" y="88" text-anchor="middle" fill="#000" font-size="20" font-weight="bold">A</text>

                <!-- B -->
                <circle cx="270" cy="80" r="25" fill="#fff" stroke="#000" stroke-width="3"/>
                <text x="270" y="88" text-anchor="middle" fill="#000" font-size="20" font-weight="bold">B</text>

                <!-- C -->
                <circle cx="100" cy="205" r="25" fill="#fff" stroke="#000" stroke-width="3"/>
                <text x="100" y="213" text-anchor="middle" fill="#000" font-size="20" font-weight="bold">C</text>

                <!-- D -->
                <circle cx="220" cy="205" r="25" fill="#fff" stroke="#000" stroke-width="3"/>
                <text x="220" y="213" text-anchor="middle" fill="#000" font-size="20" font-weight="bold">D</text>

                <!-- E -->
                <circle cx="420" cy="80" r="25" fill="#fff" stroke="#000" stroke-width="3"/>
                <text x="420" y="88" text-anchor="middle" fill="#000" font-size="20" font-weight="bold">E</text>

                <!-- F -->
                <circle cx="560" cy="80" r="25" fill="#fff" stroke="#000" stroke-width="3"/>
                <text x="560" y="88" text-anchor="middle" fill="#000" font-size="20" font-weight="bold">F</text>

                <!-- G -->
                <circle cx="100" cy="345" r="25" fill="#fff" stroke="#000" stroke-width="3"/>
                <text x="100" y="353" text-anchor="middle" fill="#000" font-size="20" font-weight="bold">G</text>

                <!-- H -->
                <circle cx="220" cy="345" r="25" fill="#fff" stroke="#000" stroke-width="3"/>
                <text x="220" y="353" text-anchor="middle" fill="#000" font-size="20" font-weight="bold">H</text>

                <!-- I -->
                <circle cx="365" cy="345" r="25" fill="#fff" stroke="#000" stroke-width="3"/>
                <text x="365" y="353" text-anchor="middle" fill="#000" font-size="20" font-weight="bold">I</text>

                <!-- J -->
                <circle cx="320" cy="450" r="25" fill="#fff" stroke="#000" stroke-width="3"/>
                <text x="320" y="458" text-anchor="middle" fill="#000" font-size="20" font-weight="bold">J</text>

                <!-- Start indicator -->
                <text x="100" y="35" text-anchor="middle" fill="#000" font-size="14" font-weight="bold">(Start)</text>
            </svg>
        </div>

        <h2>Adjacency List</h2>

        <table class="adjacency">
            <tr>
                <th>Pharmacy</th>
                <th>Connected To (Congestion Level)</th>
            </tr>
            <tr>
                <td>A</td>
                <td>B(18), C(15), D(10)</td>
            </tr>
            <tr>
                <td>B</td>
                <td>A(18), E(12)</td>
            </tr>
            <tr>
                <td>C</td>
                <td>G(16), A(15), D(5)</td>
            </tr>
            <tr>
                <td>D</td>
                <td>H(17), A(10), C(5)</td>
            </tr>
            <tr>
                <td>E</td>
                <td>F(14), B(12)</td>
            </tr>
            <tr>
                <td>F</td>
                <td>E(14)</td>
            </tr>
            <tr>
                <td>G</td>
                <td>C(16), H(8)</td>
            </tr>
            <tr>
                <td>H</td>
                <td>I(19), D(17), J(11), G(8)</td>
            </tr>
            <tr>
                <td>I</td>
                <td>H(19), J(6)</td>
            </tr>
            <tr>
                <td>J</td>
                <td>H(11), I(6)</td>
            </tr>
        </table>

        <div class="question-box">
            <h3>Question: DFS Traversal</h3>
            <p>Ali starts at <strong>Pharmacy A</strong>. Using <strong>DFS</strong>, write the order he visits all pharmacies:</p>
            <div class="answer-space">
                A → ___ → ___ → ___ → ___ → ___ → ___ → ___ → ___ → ___
            </div>
        </div>

        <!-- SOLUTION SECTION -->
        <div class="solution">
            <h2>Solution</h2>
            <button class="show-solution-btn" onclick="toggleSolution('solution1')">Show/Hide Solution</button>

            <div id="solution1" class="solution-hidden">
                <div class="solution-item">
                    <h3>Step-by-Step DFS Traversal</h3>

                    <div class="step">
                        <span class="step-number">Step 1:</span> Start at <code>A</code><br>
                        Visited: {A} | Stack: []<br>
                        Neighbors of A: B(18), C(15), D(10)<br>
                        Push C, D to stack. <strong>Choose B (highest = 18)</strong><br>
                        Stack after: [D, C]
                    </div>

                    <div class="step">
                        <span class="step-number">Step 2:</span> Move to <code>B</code><br>
                        Visited: {A, B} | Stack: [D, C]<br>
                        Neighbors of B: A(18)✓, E(12)<br>
                        <strong>Choose E (highest unvisited = 12)</strong><br>
                        Stack after: [D, C]
                    </div>

                    <div class="step">
                        <span class="step-number">Step 3:</span> Move to <code>E</code><br>
                        Visited: {A, B, E} | Stack: [D, C]<br>
                        Neighbors of E: F(14), B(12)✓<br>
                        <strong>Choose F (highest unvisited = 14)</strong><br>
                        Stack after: [D, C]
                    </div>

                    <div class="step">
                        <span class="step-number">Step 4:</span> Move to <code>F</code><br>
                        Visited: {A, B, E, F} | Stack: [D, C]<br>
                        Neighbors of F: E(14)✓<br>
                        <strong>DEAD END! All neighbors visited. Pop from stack → C</strong><br>
                        Stack after: [D]
                    </div>

                    <div class="step">
                        <span class="step-number">Step 5:</span> Backtrack to <code>C</code> (from stack)<br>
                        Visited: {A, B, E, F, C} | Stack: [D]<br>
                        Neighbors of C: G(16), A(15)✓, D(5)<br>
                        Push D to stack. <strong>Choose G (highest unvisited = 16)</strong><br>
                        Stack after: [D, D]
                    </div>

                    <div class="step">
                        <span class="step-number">Step 6:</span> Move to <code>G</code><br>
                        Visited: {A, B, E, F, C, G} | Stack: [D, D]<br>
                        Neighbors of G: C(16)✓, H(8)<br>
                        <strong>Choose H (highest unvisited = 8)</strong><br>
                        Stack after: [D, D]
                    </div>

                    <div class="step">
                        <span class="step-number">Step 7:</span> Move to <code>H</code><br>
                        Visited: {A, B, E, F, C, G, H} | Stack: [D, D]<br>
                        Neighbors of H: I(19), D(17), J(11), G(8)✓<br>
                        Push D, J to stack. <strong>Choose I (highest unvisited = 19)</strong><br>
                        Stack after: [D, D, D, J]
                    </div>

                    <div class="step">
                        <span class="step-number">Step 8:</span> Move to <code>I</code><br>
                        Visited: {A, B, E, F, C, G, H, I} | Stack: [D, D, D, J]<br>
                        Neighbors of I: H(19)✓, J(6)<br>
                        <strong>Choose J (highest unvisited = 6)</strong><br>
                        Stack after: [D, D, D, J]
                    </div>

                    <div class="step">
                        <span class="step-number">Step 9:</span> Move to <code>J</code><br>
                        Visited: {A, B, E, F, C, G, H, I, J} | Stack: [D, D, D, J]<br>
                        Neighbors of J: H(11)✓, I(6)✓<br>
                        <strong>DEAD END! Pop from stack → J (visited), D (visited), D (visited), D</strong><br>
                        Stack after: []
                    </div>

                    <div class="step">
                        <span class="step-number">Step 10:</span> Backtrack to <code>D</code> (from stack)<br>
                        Visited: {A, B, E, F, C, G, H, I, J, D}<br>
                        <strong>All 10 pharmacies visited!</strong>
                    </div>

                    <h3>Final Answer</h3>
                    <div class="final-answer">
                        A → B → E → F → C → G → H → I → J → D
                    </div>
                </div>
            </div>
        </div>

        <div class="footer">
            <p><strong>Prepared by Dr. Almalawi</strong></p>
            <p>CPCS 204 - Data Structures</p>
        </div>
    </div>

    <script>
        function toggleSolution(id) {
            var solution = document.getElementById(id);
            if (solution.classList.contains('solution-hidden')) {
                solution.classList.remove('solution-hidden');
            } else {
                solution.classList.add('solution-hidden');
            }
        }
    </script>
</body>
</html>
