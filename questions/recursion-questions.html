<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recursion Practice Questions - CPCS 204</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
            padding: 45px 20px;
        }

        header h1 {
            font-size: 2.4em;
            margin-bottom: 10px;
            letter-spacing: -0.5px;
        }

        header p {
            font-size: 1.15em;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        /* Back Home Button */
        .back-home-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            transition: all 0.3s;
            z-index: 1000;
        }
        .back-home-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        /* Instructions Box */
        .instructions {
            background: #f0f4ff;
            border-left: 5px solid #667eea;
            padding: 20px 25px;
            margin-bottom: 35px;
            border-radius: 0 8px 8px 0;
        }

        .instructions h3 {
            color: #667eea;
            margin-bottom: 8px;
            font-size: 1.15em;
        }

        .instructions ul {
            margin-left: 20px;
            color: #4b5563;
        }

        .instructions li {
            margin-bottom: 4px;
        }

        /* Question Card */
        .question-card {
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            margin-bottom: 30px;
            overflow: hidden;
            transition: box-shadow 0.3s;
        }

        .question-card:hover {
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        .question-header {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 18px 24px;
            background: #f9fafb;
            border-bottom: 1px solid #e5e7eb;
            flex-wrap: wrap;
        }

        .question-number {
            font-weight: bold;
            font-size: 1.1em;
            color: #1f2937;
        }

        .badge {
            display: inline-block;
            padding: 3px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .badge-easy {
            background: #dcfce7;
            color: #166534;
            border: 1px solid #86efac;
        }

        .badge-medium {
            background: #fff7ed;
            color: #9a3412;
            border: 1px solid #fdba74;
        }

        .badge-hard {
            background: #fef2f2;
            color: #991b1b;
            border: 1px solid #fca5a5;
        }

        .points {
            margin-left: auto;
            font-weight: 600;
            color: #6b7280;
            font-size: 0.95em;
        }

        .question-body {
            padding: 24px;
        }

        .question-title {
            font-size: 1.1em;
            font-weight: 600;
            color: #374151;
            margin-bottom: 12px;
        }

        .question-desc {
            background: #f9fafb;
            border-left: 4px solid #667eea;
            padding: 14px 18px;
            margin-bottom: 16px;
            border-radius: 0 8px 8px 0;
            color: #374151;
            font-size: 0.95em;
            line-height: 1.7;
        }

        /* Code Block - matching numeric-recursion.html style */
        .code-container { margin: 16px 0; }
        .code-header {
            background: #667eea;
            color: white;
            padding: 14px 24px;
            border-radius: 8px 8px 0 0;
            cursor: pointer;
            user-select: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: bold;
            font-size: 1.15em;
            transition: background 0.3s;
        }
        .code-header:hover { background: #5568d3; }
        .code-toggle { font-size: 1.2em; transition: transform 0.3s; }
        .code-toggle.collapsed { transform: rotate(-90deg); }

        .code-block {
            background: #000000;
            color: #f8f8f2;
            padding: 25px 30px;
            border-radius: 0 0 8px 8px;
            overflow-x: auto;
            font-family: 'Courier New', Consolas, 'Liberation Mono', monospace;
            font-size: 1.25em;
            line-height: 1.8;
            white-space: pre;
            max-height: 800px;
            overflow-y: auto;
            transition: max-height 0.3s ease;
            letter-spacing: 0.3px;
        }
        .code-block.collapsed { max-height: 0; padding: 0 20px; overflow: hidden; }
        .code-block .comment { color: #7a8bbf; }
        .code-block .keyword { color: #ff79c6; font-weight: bold; }
        .code-block .class-name { color: #50fa7b; font-weight: bold; }
        .code-block .method { color: #8be9fd; }
        .code-block .string { color: #f1fa8c; }
        .code-block .number { color: #bd93f9; }

        .call-prompt {
            background: #faf5ff;
            border: 2px solid #c084fc;
            border-radius: 8px;
            padding: 12px 18px;
            margin: 16px 0;
            font-family: 'Courier New', Consolas, monospace;
            font-size: 1em;
            font-weight: bold;
            color: #7c3aed;
        }

        .call-prompt span {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-weight: 600;
            color: #6b7280;
            font-size: 0.9em;
            margin-right: 8px;
        }

        /* Show Solution Button */
        .btn-solution {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px 28px;
            border-radius: 25px;
            font-size: 0.95em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .btn-solution:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-solution.active {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
        }

        /* Solution Container */
        .solution {
            display: none;
            margin-top: 20px;
            border-top: 2px solid #e5e7eb;
            padding-top: 20px;
        }

        .solution-label {
            font-weight: 700;
            color: #7c3aed;
            font-size: 1.05em;
            margin-bottom: 16px;
        }

        /* Linear Trace (Q1-Q4) */
        .trace-chain {
            padding: 10px 0;
        }

        .trace-call {
            border-left: 3px solid #7c3aed;
            background: #faf5ff;
            margin: 0 0 8px 0;
            padding: 10px 16px;
            border-radius: 0 8px 8px 0;
            font-family: 'Courier New', Consolas, monospace;
            font-size: 0.88em;
            line-height: 1.6;
            position: relative;
        }

        .trace-call.depth-0 { margin-left: 0; border-left-color: #7c3aed; background: #faf5ff; }
        .trace-call.depth-1 { margin-left: 28px; border-left-color: #8b5cf6; background: #f5f0ff; }
        .trace-call.depth-2 { margin-left: 56px; border-left-color: #a78bfa; background: #f0ebff; }
        .trace-call.depth-3 { margin-left: 84px; border-left-color: #c4b5fd; background: #ede9fe; }
        .trace-call.depth-4 { margin-left: 112px; border-left-color: #ddd6fe; background: #e8e0fe; }
        .trace-call.depth-5 { margin-left: 140px; border-left-color: #ede9fe; background: #e0d8fd; }

        .trace-call.base-case {
            border-left-color: #16a34a;
            background: #f0fdf4;
        }

        .trace-call .call-name {
            font-weight: bold;
            color: #7c3aed;
        }

        .trace-call.base-case .call-name {
            color: #16a34a;
        }

        .trace-call .computation {
            color: #6b7280;
        }

        .trace-return {
            border-left: 3px solid #2563eb;
            background: #eff6ff;
            margin: 0 0 8px 0;
            padding: 10px 16px;
            border-radius: 0 8px 8px 0;
            font-family: 'Courier New', Consolas, monospace;
            font-size: 0.88em;
            line-height: 1.6;
        }

        .trace-return.depth-0 { margin-left: 0; }
        .trace-return.depth-1 { margin-left: 28px; }
        .trace-return.depth-2 { margin-left: 56px; }
        .trace-return.depth-3 { margin-left: 84px; }
        .trace-return.depth-4 { margin-left: 112px; }
        .trace-return.depth-5 { margin-left: 140px; }

        .trace-return .return-val {
            font-weight: bold;
            color: #2563eb;
        }

        .trace-arrow {
            text-align: center;
            color: #9ca3af;
            font-size: 1.1em;
            margin: 2px 0;
        }

        .final-answer {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 14px 24px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 1.1em;
            margin-top: 16px;
            text-align: center;
        }

        .total-calls {
            text-align: center;
            color: #6b7280;
            font-size: 0.9em;
            margin-top: 8px;
            font-style: italic;
        }

        /* Tree Visualization (Q5-Q6) */
        .tree-visual {
            display: flex;
            justify-content: center;
            overflow-x: auto;
            padding: 10px 0;
        }

        .tree-visual ul {
            display: flex;
            justify-content: center;
            list-style: none;
            margin: 0;
            padding: 20px 0 0 0;
            position: relative;
        }

        .tree-visual > ul { padding-top: 0; }
        .tree-visual > ul::before { display: none; }
        .tree-visual > ul > li::before,
        .tree-visual > ul > li::after { display: none; }

        .tree-visual ul ul::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            border-left: 2px solid #c4b5fd;
            width: 0;
            height: 20px;
        }

        .tree-visual li {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            list-style: none;
            position: relative;
            padding: 20px 5px 0 5px;
        }

        .tree-visual > ul > li { padding-top: 0; }

        .tree-visual li::before,
        .tree-visual li::after {
            content: '';
            position: absolute;
            top: 0;
            width: 50%;
            height: 20px;
        }

        .tree-visual li::before {
            right: 50%;
            border-top: 2px solid #c4b5fd;
        }

        .tree-visual li::after {
            left: 50%;
            border-top: 2px solid #c4b5fd;
            border-left: 2px solid #c4b5fd;
        }

        .tree-visual li:first-child::before { border-top: none; }
        .tree-visual li:first-child::after { border-radius: 5px 0 0 0; }
        .tree-visual li:last-child::after { border-top: none; border-left: 2px solid #c4b5fd; }
        .tree-visual li:last-child::before { border-right: 2px solid #c4b5fd; border-radius: 0 5px 0 0; }
        .tree-visual li:only-child::before,
        .tree-visual li:only-child::after { display: none; }
        .tree-visual li:only-child { padding-top: 0; }

        .tree-node-box {
            display: inline-block;
            padding: 6px 14px;
            border-radius: 8px;
            font-family: 'Courier New', Consolas, monospace;
            font-weight: bold;
            font-size: 0.82em;
            white-space: nowrap;
            background: white;
        }

        .tree-node-box.node-call {
            border: 2px solid #7c3aed;
            color: #7c3aed;
        }

        .tree-node-box.node-base {
            border: 2px solid #16a34a;
            color: #16a34a;
            background: #f0fdf4;
        }

        .tree-node-box.node-computed {
            border: 2px solid #2563eb;
            color: #2563eb;
            background: #eff6ff;
        }

        .node-val {
            font-weight: bold;
        }

        .tree-label {
            display: block;
            font-size: 0.72em;
            margin-top: 3px;
            font-weight: 600;
        }

        .tree-label.label-left { color: #7c3aed; }
        .tree-label.label-right { color: #c026d3; }

        /* Responsive */
        @media (max-width: 768px) {
            .content { padding: 20px; }
            header h1 { font-size: 1.8em; }
            .question-header { padding: 14px 16px; }
            .question-body { padding: 16px; }
            .code-block { padding: 14px 16px; font-size: 0.82em; }
            .trace-call, .trace-return { font-size: 0.78em; padding: 8px 12px; }
            .trace-call.depth-1, .trace-return.depth-1 { margin-left: 16px; }
            .trace-call.depth-2, .trace-return.depth-2 { margin-left: 32px; }
            .trace-call.depth-3, .trace-return.depth-3 { margin-left: 48px; }
            .trace-call.depth-4, .trace-return.depth-4 { margin-left: 64px; }
            .trace-call.depth-5, .trace-return.depth-5 { margin-left: 80px; }
            .tree-node-box { font-size: 0.7em; padding: 4px 8px; }
            .back-home-btn { padding: 8px 16px; font-size: 0.85em; }
        }
    </style>
</head>
<body>

<a href="../index.html" class="back-home-btn">Home</a>

<div class="container">

    <header>
        <h1>Recursion - Practice Questions</h1>
        <p>CPCS 204 - Trace recursive methods step by step</p>
    </header>

    <div class="content">

        <!-- Instructions -->
        <div class="instructions">
            <h3>Instructions</h3>
            <ul>
                <li>For each question, trace the given method call by hand.</li>
                <li>Draw all recursive calls as boxes, showing parameters and local variables at each level.</li>
                <li>Show the final return value that the original call produces.</li>
                <li>Click <strong>"Show Solution"</strong> to check your work after you have completed your trace.</li>
            </ul>
        </div>

        <!-- ============================================ -->
        <!-- QUESTION 1 - Easy -->
        <!-- ============================================ -->
        <div class="question-card">
            <div class="question-header">
                <span class="question-number">Question 1</span>
                <span class="badge badge-easy">Easy</span>
                <span class="points">5 pts</span>
            </div>
            <div class="question-body">
                <div class="question-title">Sum of Squares of Digits</div>

                <div class="question-desc">
                    The following recursive method takes an integer <strong>n</strong> and returns the <strong>sum of the squares of its digits</strong>. It extracts the last digit using <code>n % 10</code>, squares it, and adds it to the result of processing the remaining digits <code>n / 10</code>. The recursion stops when <code>n</code> reaches 0. Trace the method by calling it with <strong>sumSq(314)</strong>. You must draw ALL recursive calls and show the final answer that is returned.
                </div>

                <div class="code-container">
                    <div class="code-header" onclick="toggleCode(this)">
                        Java - Sum of Squares of Digits
                        <span class="code-toggle">&#9660;</span>
                    </div>
                    <div class="code-block"><span class="keyword">public static int</span> <span class="method">sumSq</span>(<span class="keyword">int</span> n) {
    <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;
    <span class="keyword">int</span> d = n % <span class="number">10</span>;
    <span class="keyword">return</span> (d * d) + <span class="method">sumSq</span>(n / <span class="number">10</span>);
}</div>
                </div>

                <div class="call-prompt">
                    <span>Trace:</span> sumSq(314)
                </div>

                <button class="btn-solution" onclick="toggleSolution('sol1', this)">Show Solution</button>

                <div class="solution" id="sol1">
                    <div class="solution-label">Solution Trace</div>
                    <div class="trace-chain">
                        <div class="trace-call depth-0">
                            <span class="call-name">sumSq(314)</span>: d=4, <span class="computation">return 16 + sumSq(31)</span>
                        </div>
                        <div class="trace-call depth-1">
                            <span class="call-name">sumSq(31)</span>: d=1, <span class="computation">return 1 + sumSq(3)</span>
                        </div>
                        <div class="trace-call depth-2">
                            <span class="call-name">sumSq(3)</span>: d=3, <span class="computation">return 9 + sumSq(0)</span>
                        </div>
                        <div class="trace-call depth-3 base-case">
                            <span class="call-name">sumSq(0)</span>: BASE CASE -- return 0
                        </div>
                        <div class="trace-arrow">&#8593;</div>
                        <div class="trace-return depth-2">
                            <span class="return-val">sumSq(3) = 9 + 0 = 9</span>
                        </div>
                        <div class="trace-arrow">&#8593;</div>
                        <div class="trace-return depth-1">
                            <span class="return-val">sumSq(31) = 1 + 9 = 10</span>
                        </div>
                        <div class="trace-arrow">&#8593;</div>
                        <div class="trace-return depth-0">
                            <span class="return-val">sumSq(314) = 16 + 10 = 26</span>
                        </div>
                    </div>
                    <div class="final-answer">Final Answer: 26</div>
                </div>
            </div>
        </div>

        <!-- ============================================ -->
        <!-- QUESTION 2 - Easy -->
        <!-- ============================================ -->
        <div class="question-card">
            <div class="question-header">
                <span class="question-number">Question 2</span>
                <span class="badge badge-easy">Easy</span>
                <span class="points">5 pts</span>
            </div>
            <div class="question-body">
                <div class="question-title">Product of Digits</div>

                <div class="question-desc">
                    The following recursive method takes an integer <strong>n</strong> and returns the <strong>product (multiplication) of all its digits</strong>. It extracts the last digit using <code>n % 10</code> and multiplies it by the product of the remaining digits <code>n / 10</code>. The base case is when <code>n</code> is a single digit (less than 10), in which case it returns <code>n</code> itself. Trace the method by calling it with <strong>prodDigits(2431)</strong>. You must draw ALL recursive calls and show the final answer that is returned.
                </div>

                <div class="code-container">
                    <div class="code-header" onclick="toggleCode(this)">
                        Java - Product of Digits
                        <span class="code-toggle">&#9660;</span>
                    </div>
                    <div class="code-block"><span class="keyword">public static int</span> <span class="method">prodDigits</span>(<span class="keyword">int</span> n) {
    <span class="keyword">if</span> (n &lt; <span class="number">10</span>) <span class="keyword">return</span> n;
    <span class="keyword">return</span> (n % <span class="number">10</span>) * <span class="method">prodDigits</span>(n / <span class="number">10</span>);
}</div>
                </div>

                <div class="call-prompt">
                    <span>Trace:</span> prodDigits(2431)
                </div>

                <button class="btn-solution" onclick="toggleSolution('sol2', this)">Show Solution</button>

                <div class="solution" id="sol2">
                    <div class="solution-label">Solution Trace</div>
                    <div class="trace-chain">
                        <div class="trace-call depth-0">
                            <span class="call-name">prodDigits(2431)</span>: <span class="computation">return 1 * prodDigits(243)</span>
                        </div>
                        <div class="trace-call depth-1">
                            <span class="call-name">prodDigits(243)</span>: <span class="computation">return 3 * prodDigits(24)</span>
                        </div>
                        <div class="trace-call depth-2">
                            <span class="call-name">prodDigits(24)</span>: <span class="computation">return 4 * prodDigits(2)</span>
                        </div>
                        <div class="trace-call depth-3 base-case">
                            <span class="call-name">prodDigits(2)</span>: BASE CASE (2 &lt; 10) -- return 2
                        </div>
                        <div class="trace-arrow">&#8593;</div>
                        <div class="trace-return depth-2">
                            <span class="return-val">prodDigits(24) = 4 * 2 = 8</span>
                        </div>
                        <div class="trace-arrow">&#8593;</div>
                        <div class="trace-return depth-1">
                            <span class="return-val">prodDigits(243) = 3 * 8 = 24</span>
                        </div>
                        <div class="trace-arrow">&#8593;</div>
                        <div class="trace-return depth-0">
                            <span class="return-val">prodDigits(2431) = 1 * 24 = 24</span>
                        </div>
                    </div>
                    <div class="final-answer">Final Answer: 24</div>
                </div>
            </div>
        </div>

        <!-- ============================================ -->
        <!-- QUESTION 3 - Medium -->
        <!-- ============================================ -->
        <div class="question-card">
            <div class="question-header">
                <span class="question-number">Question 3</span>
                <span class="badge badge-medium">Medium</span>
                <span class="points">10 pts</span>
            </div>
            <div class="question-body">
                <div class="question-title">Keep Only Even Digits</div>

                <div class="question-desc">
                    The following recursive method takes an integer <strong>n</strong> and returns a <strong>new number containing only the even digits</strong> from the original number, preserving their order. It examines each digit: if the digit is even, it is kept in the result by multiplying the recursive result by 10 and adding the digit. If the digit is odd, it is skipped. The recursion stops when <code>n</code> reaches 0. Trace the method by calling it with <strong>keepEven(56283)</strong>. You must draw ALL recursive calls and show the final answer that is returned.
                </div>

                <div class="code-container">
                    <div class="code-header" onclick="toggleCode(this)">
                        Java - Keep Only Even Digits
                        <span class="code-toggle">&#9660;</span>
                    </div>
                    <div class="code-block"><span class="keyword">public static int</span> <span class="method">keepEven</span>(<span class="keyword">int</span> n) {
    <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;
    <span class="keyword">int</span> d = n % <span class="number">10</span>;
    <span class="keyword">if</span> (d % <span class="number">2</span> == <span class="number">0</span>)
        <span class="keyword">return</span> <span class="method">keepEven</span>(n / <span class="number">10</span>) * <span class="number">10</span> + d;
    <span class="keyword">else</span>
        <span class="keyword">return</span> <span class="method">keepEven</span>(n / <span class="number">10</span>);
}</div>
                </div>

                <div class="call-prompt">
                    <span>Trace:</span> keepEven(56283)
                </div>

                <button class="btn-solution" onclick="toggleSolution('sol3', this)">Show Solution</button>

                <div class="solution" id="sol3">
                    <div class="solution-label">Solution Trace</div>
                    <div class="trace-chain">
                        <div class="trace-call depth-0">
                            <span class="call-name">keepEven(56283)</span>: d=3, odd <span class="computation">-- return keepEven(5628)</span>
                        </div>
                        <div class="trace-call depth-1">
                            <span class="call-name">keepEven(5628)</span>: d=8, even <span class="computation">-- return keepEven(562) * 10 + 8</span>
                        </div>
                        <div class="trace-call depth-2">
                            <span class="call-name">keepEven(562)</span>: d=2, even <span class="computation">-- return keepEven(56) * 10 + 2</span>
                        </div>
                        <div class="trace-call depth-3">
                            <span class="call-name">keepEven(56)</span>: d=6, even <span class="computation">-- return keepEven(5) * 10 + 6</span>
                        </div>
                        <div class="trace-call depth-4">
                            <span class="call-name">keepEven(5)</span>: d=5, odd <span class="computation">-- return keepEven(0)</span>
                        </div>
                        <div class="trace-call depth-5 base-case">
                            <span class="call-name">keepEven(0)</span>: BASE CASE -- return 0
                        </div>
                        <div class="trace-arrow">&#8593;</div>
                        <div class="trace-return depth-4">
                            <span class="return-val">keepEven(5) = 0</span>
                        </div>
                        <div class="trace-arrow">&#8593;</div>
                        <div class="trace-return depth-3">
                            <span class="return-val">keepEven(56) = 0 * 10 + 6 = 6</span>
                        </div>
                        <div class="trace-arrow">&#8593;</div>
                        <div class="trace-return depth-2">
                            <span class="return-val">keepEven(562) = 6 * 10 + 2 = 62</span>
                        </div>
                        <div class="trace-arrow">&#8593;</div>
                        <div class="trace-return depth-1">
                            <span class="return-val">keepEven(5628) = 62 * 10 + 8 = 628</span>
                        </div>
                        <div class="trace-arrow">&#8593;</div>
                        <div class="trace-return depth-0">
                            <span class="return-val">keepEven(56283) = 628</span>
                        </div>
                    </div>
                    <div class="final-answer">Final Answer: 628</div>
                </div>
            </div>
        </div>

        <!-- ============================================ -->
        <!-- QUESTION 4 - Medium -->
        <!-- ============================================ -->
        <div class="question-card">
            <div class="question-header">
                <span class="question-number">Question 4</span>
                <span class="badge badge-medium">Medium</span>
                <span class="points">10 pts</span>
            </div>
            <div class="question-body">
                <div class="question-title">Two-Parameter Mystery</div>

                <div class="question-desc">
                    The following recursive method takes two integers <strong>a</strong> and <strong>b</strong>. When <code>b</code> reaches 0, it returns <code>a</code> (base case). Otherwise, it checks whether <code>a</code> is even or odd: if <code>a</code> is even, it halves <code>a</code>, decreases <code>b</code> by 1, and adds <code>b</code> to the result. If <code>a</code> is odd, it increases <code>a</code> by 1 and decreases <code>b</code> by 1 without adding anything. Trace the method by calling it with <strong>mystery(7, 3)</strong>. You must draw ALL recursive calls and show the final answer that is returned.
                </div>

                <div class="code-container">
                    <div class="code-header" onclick="toggleCode(this)">
                        Java - Two-Parameter Mystery
                        <span class="code-toggle">&#9660;</span>
                    </div>
                    <div class="code-block"><span class="keyword">public static int</span> <span class="method">mystery</span>(<span class="keyword">int</span> a, <span class="keyword">int</span> b) {
    <span class="keyword">if</span> (b == <span class="number">0</span>) <span class="keyword">return</span> a;
    <span class="keyword">if</span> (a % <span class="number">2</span> == <span class="number">0</span>)
        <span class="keyword">return</span> <span class="method">mystery</span>(a / <span class="number">2</span>, b - <span class="number">1</span>) + b;
    <span class="keyword">else</span>
        <span class="keyword">return</span> <span class="method">mystery</span>(a + <span class="number">1</span>, b - <span class="number">1</span>);
}</div>
                </div>

                <div class="call-prompt">
                    <span>Trace:</span> mystery(7, 3)
                </div>

                <button class="btn-solution" onclick="toggleSolution('sol4', this)">Show Solution</button>

                <div class="solution" id="sol4">
                    <div class="solution-label">Solution Trace</div>
                    <div class="trace-chain">
                        <div class="trace-call depth-0">
                            <span class="call-name">mystery(7, 3)</span>: 7 is odd <span class="computation">-- return mystery(8, 2)</span>
                        </div>
                        <div class="trace-call depth-1">
                            <span class="call-name">mystery(8, 2)</span>: 8 is even <span class="computation">-- return mystery(4, 1) + 2</span>
                        </div>
                        <div class="trace-call depth-2">
                            <span class="call-name">mystery(4, 1)</span>: 4 is even <span class="computation">-- return mystery(2, 0) + 1</span>
                        </div>
                        <div class="trace-call depth-3 base-case">
                            <span class="call-name">mystery(2, 0)</span>: b=0, BASE CASE -- return 2
                        </div>
                        <div class="trace-arrow">&#8593;</div>
                        <div class="trace-return depth-2">
                            <span class="return-val">mystery(4, 1) = 2 + 1 = 3</span>
                        </div>
                        <div class="trace-arrow">&#8593;</div>
                        <div class="trace-return depth-1">
                            <span class="return-val">mystery(8, 2) = 3 + 2 = 5</span>
                        </div>
                        <div class="trace-arrow">&#8593;</div>
                        <div class="trace-return depth-0">
                            <span class="return-val">mystery(7, 3) = 5</span>
                        </div>
                    </div>
                    <div class="final-answer">Final Answer: 5</div>
                </div>
            </div>
        </div>

        <!-- ============================================ -->
        <!-- QUESTION 5 - Hard -->
        <!-- ============================================ -->
        <div class="question-card">
            <div class="question-header">
                <span class="question-number">Question 5</span>
                <span class="badge badge-hard">Hard</span>
                <span class="points">15 pts</span>
            </div>
            <div class="question-body">
                <div class="question-title">Branching Recursion</div>

                <div class="question-desc">
                    The following recursive method takes an integer <strong>n</strong>. If <code>n &le; 1</code>, it returns <code>n</code> (base case). Otherwise, it checks if <code>n</code> is even or odd: if <code>n</code> is even, it makes <strong>two recursive calls</strong> &mdash; <code>branch(n/2)</code> and <code>branch(n-1)</code> &mdash; and returns their sum. If <code>n</code> is odd, it returns <code>n</code> plus <code>branch(n-2)</code>. Because the even case creates two branches, this produces a <strong>call tree</strong>, not just a chain. Trace the method by calling it with <strong>branch(6)</strong>. You must draw the complete call tree and show the final answer that is returned.
                </div>

                <div class="code-container">
                    <div class="code-header" onclick="toggleCode(this)">
                        Java - Branching Recursion
                        <span class="code-toggle">&#9660;</span>
                    </div>
                    <div class="code-block"><span class="keyword">public static int</span> <span class="method">branch</span>(<span class="keyword">int</span> n) {
    <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) <span class="keyword">return</span> n;
    <span class="keyword">if</span> (n % <span class="number">2</span> == <span class="number">0</span>)
        <span class="keyword">return</span> <span class="method">branch</span>(n / <span class="number">2</span>) + <span class="method">branch</span>(n - <span class="number">1</span>);
    <span class="keyword">else</span>
        <span class="keyword">return</span> n + <span class="method">branch</span>(n - <span class="number">2</span>);
}</div>
                </div>

                <div class="call-prompt">
                    <span>Trace:</span> branch(6)
                </div>

                <button class="btn-solution" onclick="toggleSolution('sol5', this)">Show Solution</button>

                <div class="solution" id="sol5">
                    <div class="solution-label">Solution Trace -- Call Tree</div>

                    <div class="tree-visual">
                        <ul>
                            <li>
                                <!-- Root: branch(6) -->
                                <div class="tree-node-box node-computed">branch(6)<br><span class="node-val">= 4 + 9 = 13</span></div>
                                <ul>
                                    <!-- Left: branch(3) -->
                                    <li>
                                        <span class="tree-label label-left">branch(n/2)</span>
                                        <div class="tree-node-box node-computed">branch(3)<br><span class="node-val">= 3 + 1 = 4</span></div>
                                        <ul>
                                            <li>
                                                <span class="tree-label label-left">3 + branch(1)</span>
                                                <div class="tree-node-box node-base">branch(1)<br><span class="node-val">= 1</span></div>
                                            </li>
                                        </ul>
                                    </li>
                                    <!-- Right: branch(5) -->
                                    <li>
                                        <span class="tree-label label-right">branch(n-1)</span>
                                        <div class="tree-node-box node-computed">branch(5)<br><span class="node-val">= 5 + 4 = 9</span></div>
                                        <ul>
                                            <li>
                                                <span class="tree-label label-left">5 + branch(3)</span>
                                                <div class="tree-node-box node-computed">branch(3)<br><span class="node-val">= 3 + 1 = 4</span></div>
                                                <ul>
                                                    <li>
                                                        <span class="tree-label label-left">3 + branch(1)</span>
                                                        <div class="tree-node-box node-base">branch(1)<br><span class="node-val">= 1</span></div>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                    <div class="final-answer">Final Answer: 13</div>
                    <div class="total-calls">7 total function calls</div>
                </div>
            </div>
        </div>

        <!-- ============================================ -->
        <!-- QUESTION 6 - Hard -->
        <!-- ============================================ -->
        <div class="question-card">
            <div class="question-header">
                <span class="question-number">Question 6</span>
                <span class="badge badge-hard">Hard</span>
                <span class="points">15 pts</span>
            </div>
            <div class="question-body">
                <div class="question-title">Two-Parameter Branching</div>

                <div class="question-desc">
                    The following recursive method takes two integers <strong>a</strong> and <strong>b</strong>. If either <code>a &le; 0</code> or <code>b &le; 0</code>, it returns 1 (base case). Otherwise, it checks whether <code>a &ge; b</code>: if so, it returns <code>a</code> plus a single recursive call <code>solve(a-2, b-1)</code>. If <code>a &lt; b</code>, it makes <strong>two recursive calls</strong> &mdash; <code>solve(a, b-1)</code> and <code>solve(a-1, b)</code> &mdash; and returns their sum. The two-branch case produces a <strong>call tree</strong>. Trace the method by calling it with <strong>solve(2, 3)</strong>. You must draw the complete call tree and show the final answer that is returned.
                </div>

                <div class="code-container">
                    <div class="code-header" onclick="toggleCode(this)">
                        Java - Two-Parameter Branching
                        <span class="code-toggle">&#9660;</span>
                    </div>
                    <div class="code-block"><span class="keyword">public static int</span> <span class="method">solve</span>(<span class="keyword">int</span> a, <span class="keyword">int</span> b) {
    <span class="keyword">if</span> (a &lt;= <span class="number">0</span> || b &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;
    <span class="keyword">if</span> (a &gt;= b)
        <span class="keyword">return</span> a + <span class="method">solve</span>(a - <span class="number">2</span>, b - <span class="number">1</span>);
    <span class="keyword">else</span>
        <span class="keyword">return</span> <span class="method">solve</span>(a, b - <span class="number">1</span>) + <span class="method">solve</span>(a - <span class="number">1</span>, b);
}</div>
                </div>

                <div class="call-prompt">
                    <span>Trace:</span> solve(2, 3)
                </div>

                <button class="btn-solution" onclick="toggleSolution('sol6', this)">Show Solution</button>

                <div class="solution" id="sol6">
                    <div class="solution-label">Solution Trace -- Call Tree</div>

                    <div class="tree-visual">
                        <ul>
                            <li>
                                <!-- Root: solve(2,3) -->
                                <div class="tree-node-box node-computed">solve(2,3)<br><span class="node-val">= 3 + 4 = 7</span></div>
                                <ul>
                                    <!-- Left: solve(2,2) -->
                                    <li>
                                        <span class="tree-label label-left">solve(a, b-1)</span>
                                        <div class="tree-node-box node-computed">solve(2,2)<br>a&gt;=b: 2+solve(0,1)<br><span class="node-val">= 2 + 1 = 3</span></div>
                                        <ul>
                                            <li>
                                                <div class="tree-node-box node-base">solve(0,1)<br>a&lt;=0<br><span class="node-val">= 1</span></div>
                                            </li>
                                        </ul>
                                    </li>
                                    <!-- Right: solve(1,3) -->
                                    <li>
                                        <span class="tree-label label-right">solve(a-1, b)</span>
                                        <div class="tree-node-box node-computed">solve(1,3)<br>a&lt;b<br><span class="node-val">= 3 + 1 = 4</span></div>
                                        <ul>
                                            <!-- Left: solve(1,2) -->
                                            <li>
                                                <span class="tree-label label-left">solve(a, b-1)</span>
                                                <div class="tree-node-box node-computed">solve(1,2)<br>a&lt;b<br><span class="node-val">= 2 + 1 = 3</span></div>
                                                <ul>
                                                    <li>
                                                        <span class="tree-label label-left">solve(a, b-1)</span>
                                                        <div class="tree-node-box node-computed">solve(1,1)<br>a&gt;=b: 1+solve(-1,0)<br><span class="node-val">= 1 + 1 = 2</span></div>
                                                        <ul>
                                                            <li>
                                                                <div class="tree-node-box node-base">solve(-1,0)<br>a&lt;=0<br><span class="node-val">= 1</span></div>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                    <li>
                                                        <span class="tree-label label-right">solve(a-1, b)</span>
                                                        <div class="tree-node-box node-base">solve(0,2)<br>a&lt;=0<br><span class="node-val">= 1</span></div>
                                                    </li>
                                                </ul>
                                            </li>
                                            <!-- Right: solve(0,3) -->
                                            <li>
                                                <span class="tree-label label-right">solve(a-1, b)</span>
                                                <div class="tree-node-box node-base">solve(0,3)<br>a&lt;=0<br><span class="node-val">= 1</span></div>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                    <div class="final-answer">Final Answer: 7</div>
                    <div class="total-calls">10 total function calls</div>
                </div>
            </div>
        </div>

    </div><!-- end .content -->

    <!-- Standard Footer -->
    <div style="text-align: center; padding: 25px 40px; color: #6b7280; font-size: 0.9rem; border-top: 1px solid #e5e7eb; line-height: 1.8;">
        <div style="font-weight: bold; color: #1f2937; font-size: 1rem;">King Abdulaziz University</div>
        <div>Faculty of Computing and Information Technology (FCIT)</div>
        <div style="margin-top: 8px;">Prepared by Dr. Abdulmohsen Almalawi</div>
    </div>

</div><!-- end .container -->

<script>
function toggleCode(header) {
    var block = header.nextElementSibling;
    var toggle = header.querySelector('.code-toggle');
    block.classList.toggle('collapsed');
    toggle.classList.toggle('collapsed');
}

function toggleSolution(id, btn) {
    var el = document.getElementById(id);
    if (el.style.display === 'none' || el.style.display === '') {
        el.style.display = 'block';
        btn.textContent = 'Hide Solution';
        btn.classList.add('active');
    } else {
        el.style.display = 'none';
        btn.textContent = 'Show Solution';
        btn.classList.remove('active');
    }
}
</script>

</body>
</html>
